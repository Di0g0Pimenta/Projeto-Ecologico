<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ECOSPOT</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/Styles/Home-User-Screan.css">
</head>

<body>
  <div class="Div-Screan">
    <h1 class="Home-Title">Home</h1>
    <div class="List-User">
      <button class="Buttons-List" onclick="openOverlay()">New Collection Point <img
          src="/Assents/Icons/plus-circle.svg" alt=""></button>
      <button class="Buttons-List-History">History Points <img src="/Assents/Icons/plus-circle.svg" alt=""></button>


    </div>

    <div id="overlay" style="display: none;">
      <h2>Adicionar Ponto de Coleta</h2>

      <label id="label-Location" for="location">Localização:</label>
      <input type="text" id="location" name="location" required><br><br>

      <label id="Lable-Eco" for="type">Tipo de Ecoponto:</label>

      <select type="selector" id="type" name="type" required>
        <option value="Yellow">Yellow Ecopoint</option>
        <option value="Blue">Blue Ecopoint</option>
        <option value="Green">Green Ecopint</option>
        <option value="Other">Other</option>
      </select>
      <br><br>

      <label id="lable-Img" for="image">Imagem: <span><img src="/Assents/Icons/wallpaper.svg" alt=""></span></label>
      <input type="file" id="image" name="image" accept="image/*"><br><br>

      <button type="submit" onclick="CollectPoint()">Send</button>
      <button type="button" onclick="closeOverlay()">Back</button>

    </div>
  </div>
</body>
<script>
  function openOverlay() {
    document.getElementById("overlay").style.display = "block";
  }

  function closeOverlay() {
    document.getElementById("overlay").style.display = "none";
  }

  // Obtém a referência para o input de localização
  const locationInput = document.getElementById("location");

  // Função para obter a posição atual
  function getCurrentPosition() {
    if (navigator.geolocation) {
      // Obtém a posição atual
      navigator.geolocation.getCurrentPosition(
        (position) => {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;
          const currentPosition = `Latitude: ${latitude}, Longitude: ${longitude}`;

          // Preenche o input de localização com a posição atual
          locationInput.value = currentPosition;
        },
        (error) => {
          console.error("Erro ao obter a posição atual:", error);
        }
      );
    } else {
      console.error("Geolocalização não suportada pelo navegador.");
    }
  }

  // Adiciona um evento de clique ao input de localização
  locationInput.addEventListener("click", getCurrentPosition);
</script>
<script type="module" src="/Scripts/CollectPoint.js"></script>

</html>